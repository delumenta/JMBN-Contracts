<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>JMBN Loadout — Interactive Blueprint</title>
<link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#000; --panel:#0b0b0b; --card:#0c0c0c; --border:#d6b44c;
  --accent:#f2d675; --text:#f7f1d0; --muted:#c9b06a;
}
*{box-sizing:border-box}
html,body{margin:0;background:#000;color:var(--text);font-family:'Play',system-ui,sans-serif}

/* Layout */
.wrap{max-width:1200px;margin:18px auto;padding:0 14px;display:grid;grid-template-columns:minmax(320px,740px) 1fr;gap:16px}
@media (max-width:920px){.wrap{grid-template-columns:1fr}}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:14px;box-shadow:0 0 18px rgba(214,180,76,.16)}
h1{margin:0 0 8px;color:var(--accent);font-size:22px}
.note{color:var(--muted);font-size:12px}

/* Figure */
.figure{position:relative;overflow:hidden;border-radius:12px}
.figure img{display:block;width:100%;height:auto;filter:contrast(1.05) brightness(.9)}

/* SVG overlay */
.blueprint{position:absolute;inset:0}
svg{display:block;width:100%;height:100%}

/* Zones */
.zone .hit{fill:transparent;cursor:pointer}
.zone .glow{fill:none;stroke:transparent;stroke-width:2}
.zone.active .glow,
.zone:hover  .glow{stroke:var(--border);filter:drop-shadow(0 0 8px rgba(214,180,76,.55))}
.zone .label{fill:#f2d675;font-size:12px;opacity:0;transition:opacity .15s ease}
.zone:hover .label,
.zone.active .label{opacity:1}

/* Right info card */
.side{position:sticky;top:14px;align-self:start}
.card{
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)), var(--card);
  border:1px solid var(--border);border-radius:14px;padding:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.5), 0 0 18px rgba(214,180,76,.18);
  backdrop-filter: blur(3px);min-height:220px;display:flex;flex-direction:column;gap:8px
}
.card h3{margin:0;color:var(--accent);font-size:18px}
.meta{display:flex;gap:6px;flex-wrap:wrap}
.tag{border:1px solid var(--border);border-radius:999px;padding:2px 8px;font-size:11px;color:var(--muted)}
.field{font-size:13px;line-height:1.4}
.field span{color:var(--muted);font-size:12px;display:block}
.actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.btn{display:inline-flex;align-items:center;padding:7px 12px;border-radius:10px;border:1px solid var(--border);text-decoration:none}
.btn.primary{background:linear-gradient(180deg,#f2d675,#e7c760);color:#000;font-weight:700}
.btn.ghost{color:var(--accent)}

/* Helpers */
.controls{display:flex;gap:10px;align-items:center;margin-top:6px}
.controls input{accent-color:#c9b06a}
</style>
</head>
<body>
  <div class="wrap">
    <!-- LEFT: Interactive blueprint -->
    <div class="panel">
      <h1>Loadout — Interactive Blueprint</h1>
      <div class="note">Hover to preview, click to pin. Helmet & Armor live; add more anytime.</div>

      <div class="figure" id="fig">
        <!-- Character image (re-host in your repo if Reddit blocks hotlink) -->
        <img src="https://i.redd.it/21ngs91ahfqa1.jpg" alt="Character loadout">

        <!-- SVG overlay (1000×1500 viewBox) -->
        <svg class="blueprint" viewBox="0 0 1000 1500" xmlns="http://www.w3.org/2000/svg" aria-label="Gear zones">
          <!-- HELMET (nudged) -->
          <g class="zone" data-slot="helmet" data-x="505" data-y="215">
            <circle class="hit"  cx="505" cy="215" r="115"></circle>
            <circle class="glow" cx="505" cy="215" r="95"></circle>
            <text class="label" x="505" y="195" text-anchor="middle">Helmet</text>
          </g>

          <!-- ARMOR (chest, widened/lowered) -->
          <g class="zone" data-slot="armor" data-x="505" data-y="450">
            <rect class="hit"  x="355" y="325" width="300" height="280" rx="30" ry="30"></rect>
            <rect class="glow" x="385" y="350" width="240" height="220" rx="18" ry="18"></rect>
            <text class="label" x="505" y="338" text-anchor="middle">Armor</text>
          </g>

          <!-- (Add more zones later by duplicating a <g class="zone"> block) -->
        </svg>
      </div>

      <div class="controls note">
        <label><input type="checkbox" id="showGuides"> Show outlines</label>
        <span>• Click again to unpin • Tap works on mobile</span>
      </div>
    </div>

    <!-- RIGHT: Info panel -->
    <div class="side">
      <div class="card" id="card">
        <h3 id="cTitle">Select a part</h3>
        <div class="meta" id="cTags"></div>
        <div class="field"><span>Where to buy</span><div id="cBuy">—</div></div>
        <div class="field"><span>Notes</span><div id="cNotes">—</div></div>
        <div class="actions">
          <a id="linkComponents" class="btn primary" href="components.html">Open Components</a>
          <a id="linkLoadout" class="btn ghost" href="loadout.html">Loadout</a>
        </div>
      </div>
    </div>
  </div>

<script>
/* Data model — edit freely */
const GEAR = {
  helmet: {
    title: 'Odyssey Helmet',
    buy: 'Orison – Cousin Crows; CRU-L5 – Platinum Bay',
    notes: 'Clean visor clarity • stable comms • low profile.',
    tags: ['Light','Exploration'],
    linkC: 'components.html?slot=helmet',
    linkL: 'loadout.html?slot=helmet'
  },
  armor: {
    title: 'Navis Chestpiece',
    buy: 'Area18 – Cubby Blast; New Babbage – Omega Pro',
    notes: 'Balanced plates • reliable availability • pairs with Navis legs.',
    tags: ['Medium','Versatile'],
    linkC: 'components.html?slot=chest',
    linkL: 'loadout.html?slot=armor'
  }
};

/* DOM refs */
const stage = document.querySelector('.blueprint');
const zones = Array.from(stage.querySelectorAll('.zone'));
const card  = {
  title: document.getElementById('cTitle'),
  buy:   document.getElementById('cBuy'),
  notes: document.getElementById('cNotes'),
  tags:  document.getElementById('cTags'),
  linkC: document.getElementById('linkComponents'),
  linkL: document.getElementById('linkLoadout')
};
const guidesToggle = document.getElementById('showGuides');

let pinned = null;

/* Helpers */
function setActive(slot){
  zones.forEach(z => z.classList.toggle('active', z.dataset.slot === slot));
}
function fillCard(data, slot){
  card.title.textContent = data?.title || 'Select a part';
  card.buy.textContent   = data?.buy   || '—';
  card.notes.textContent = data?.notes || '—';
  card.tags.innerHTML = '';
  (data?.tags || []).forEach(t=>{
    const el = document.createElement('span'); el.className='tag'; el.textContent=t; card.tags.appendChild(el);
  });
  card.linkC.href = data?.linkC || `components.html?slot=${encodeURIComponent(slot||'')}`;
  card.linkL.href = data?.linkL || `loadout.html?slot=${encodeURIComponent(slot||'')}`;
}
function preview(slot){
  fillCard(GEAR[slot], slot);
  setActive(slot);
}

/* Interactions (hover preview, click to pin/unpin, tap works too) */
zones.forEach(z=>{
  const slot = z.dataset.slot;
  z.addEventListener('mouseenter', ()=>{ if(!pinned) preview(slot); });
  z.addEventListener('click', ()=>{
    if(pinned === slot){ pinned = null; setActive(null); fillCard(null); return; }
    pinned = slot; preview(slot);
  });
});

/* Default preview */
preview('helmet');

/* Guides toggle (forces glow outlines visible) */
guidesToggle.addEventListener('change', e=>{
  const on = e.target.checked;
  zones.forEach(z=>{
    const glow = z.querySelector('.glow');
    glow.style.stroke = on ? 'var(--border)' : (z.classList.contains('active') ? 'var(--border)' : 'transparent');
  });
});
</script>
</body>
</html>